{"version":3,"sources":["../../lib/route/index.js"],"names":["options","parseBody","limit","encoding","acceptedMethods","auth","router","use","req","res","next","get","name","Controller","dummy","module","exports"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;AAEA;;AACA;;;;AACA;;;;;;AAEA,IAAMA,UAAU;AACdC,aAAW,IADG;AAEdC,SAAO,KAFO;AAGdC,YAAU,MAHI;AAIdC,mBAAiB,CAAC,KAAD,EAAQ,MAAR,EAAgB,KAAhB,EAAuB,OAAvB,EAAgC,QAAhC,EAA0C,MAA1C,EAAkD,SAAlD;AAJH,CAAhB;;AAOA;AACA;AACA;;AAdA;AAgBA,IAAMC,OAAO,oBACX,oBAAK,EAAL;AACA;AACA;AACA;AACA;AALW,CAAb;;AAQA,IAAMC,SAAS,6BAAON,OAAP,CAAf;AACAM,OACGC,GADH,CACO,UAACC,GAAD,EAAMC,GAAN;AAAA,SAAc,sBAAY;AAAA,WAAQ,sBAAOD,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,CAAR;AAAA,GAAZ,CAAd;AAAA,CADP,EAEEH,GAFF,CAEM,UAACC,GAAD,EAAMC,GAAN;AAAA,SAAc,sBAAY;AAAA,WAAQ,6BAAcD,GAAd,EAAmBC,GAAnB,EAAwBC,IAAxB,CAAR;AAAA,GAAZ,CAAd;AAAA,CAFN,EAGGC,GAHH,OAGWC,aAHX,aAGyBC,qBAAWC,KAHpC,EAIEd,OAJF,OAIcY,aAJd,QAIuB,YAAM,CAAE,CAJ/B;;AAMAG,OAAOC,OAAP,GAAiBV,MAAjB","file":"index.js","sourcesContent":["import Router from 'micro-ex-router';\nimport Controller from '../controller';\nimport { compose } from 'utils';\n// const { handleResponse, authenticate } = decorators;\nimport { name } from '../../package.json';\nimport cors from 'cors';\nimport compression from 'compression';\n\nconst options = {\n  parseBody: true,\n  limit: '1mb',\n  encoding: 'utf8',\n  acceptedMethods: ['get', 'post', 'put', 'patch', 'delete', 'head', 'options']\n};\n\n// const noauth = compose(\n//   handleResponse({})\n// );\n\nconst auth = compose(\n  cors({})\n  // handleResponse({}),\n  // authenticate({\n  //   Mongo\n  // })\n);\n\nconst router = Router(options);\nrouter\n  .use((req, res) => new Promise(next => cors()(req, res, next)))\n\t.use((req, res) => new Promise(next => compression()(req, res, next)))\n  .get(`/${name}/dummy`, Controller.dummy)\n\t.options(`/${name}*`, () => {});\n\nmodule.exports = router;"]}